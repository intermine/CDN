(function(){var e,n,t,i,r,s,o,d,u,c,g,m,f=[].slice;if(i={widgets:{latest:"http://cdn.intermine.org/js/intermine/widgets/latest/intermine.widgets.js","1.0.0":"http://cdn.intermine.org/js/intermine/widgets/1.0.0/intermine.widgets.js","1.1.0":"http://cdn.intermine.org/js/intermine/widgets/1.1.0/intermine.widgets.js","1.1.7":"http://cdn.intermine.org/js/intermine/widgets/1.1.7/intermine.widgets.js","1.1.8":"http://cdn.intermine.org/js/intermine/widgets/1.1.8/intermine.widgets.js","1.1.9":"http://cdn.intermine.org/js/intermine/widgets/1.1.9/intermine.widgets.js","1.1.10":"http://cdn.intermine.org/js/intermine/widgets/1.1.10/intermine.widgets.js","1.2.0":"http://cdn.intermine.org/js/intermine/widgets/1.2.0/intermine.widgets.js","1.2.1":"http://cdn.intermine.org/js/intermine/widgets/1.2.1/intermine.widgets.js","1.3.0":"http://cdn.intermine.org/js/intermine/widgets/1.3.0/intermine.widgets.js","1.4.0":"http://cdn.intermine.org/js/intermine/widgets/1.4.0/intermine.widgets.js","1.4.1":"http://cdn.intermine.org/js/intermine/widgets/1.4.1/intermine.widgets.js","1.4.2":"http://cdn.intermine.org/js/intermine/widgets/1.4.2/intermine.widgets.js","1.6.7":"http://cdn.intermine.org/js/intermine/widgets/1.6.7/intermine.widgets.js","1.6.8":"http://cdn.intermine.org/js/intermine/widgets/1.6.8/intermine.widgets.js","1.7.0":"http://cdn.intermine.org/js/intermine/widgets/1.7.0/intermine.widgets.js","1.7.3":"http://cdn.intermine.org/js/intermine/widgets/1.7.3/intermine.widgets.js","1.8.0":"http://cdn.intermine.org/js/intermine/widgets/1.8.0/intermine.widgets.js","1.8.1":"http://cdn.intermine.org/js/intermine/widgets/1.8.1/intermine.widgets.js","1.8.2":"http://cdn.intermine.org/js/intermine/widgets/1.8.2/intermine.widgets.js","1.8.3":"http://cdn.intermine.org/js/intermine/widgets/1.8.3/intermine.widgets.js","1.9.1":"http://cdn.intermine.org/js/intermine/widgets/1.9.1/intermine.widgets.js","1.10.0":"http://cdn.intermine.org/js/intermine/widgets/1.10.0/intermine.widgets.js","1.11.2":"http://cdn.intermine.org/js/intermine/widgets/1.11.2/intermine.widgets.js"},"report-widgets":{latest:"http://cdn.intermine.org/js/intermine/report-widgets/latest/intermine.report-widgets.js","0.7.0":"http://cdn.intermine.org/js/intermine/report-widgets/0.7.0/intermine.report-widgets.js"}},m="undefined"!=typeof process&&process.nextTick?"undefined"!=typeof setImmediate?setImmediate:process.nextTick:"function"==typeof setImmediate?setImmediate:function(e){return setTimeout(e,0)},d=function(e,n){var t,i,r;if(e.forEach)return e.forEach(n);r=[];for(t in e)i=e[t],r.push(n(i,t,e));return r},c=function(e,n){var t;return e.map?e.map(n):(t=[],d(e,function(e,i,r){return t.push(n(e,i,r))}),t)},g=function(e,n,t){return e.reduce?e.reduce(n,t):(d(e,function(e,i,r){return t=n(t,e,i,r)}),t)},u=function(e){var n,t;if(Object.keys)return Object.keys(e);t=[];for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},o=function(e,n){var t,i,r;if([].indexOf)return e.indexOf(n)>=0;for(i=0,r=e.length;r>i;i++)if(t=e[i],t===n)return!0;return!1},s=function(e,n){var t,i,r,s,o,c;return n=n||function(){},i=u(e),i.length?(o={},r=[],t=function(e){return r.unshift(e)},s=function(e){var n,t;for(n in r)if(t=r[n],t===e)return r.splice(n,1),void 0},c=function(){return d(r.slice(0),function(e){return e()})},t(function(){return u(o).length===i.length?(n(null,o),n=function(){}):void 0}),d(i,function(i){var r,f,a,p,l;return p=e[i]instanceof Function?[e[i]]:e[i],l=function(e){var t,r;return t=Array.prototype.slice.call(arguments,1),1>=t.length&&(t=t[0]),e?(r={},d(u(o),function(e){return r[e]=o[e]}),r[i]=t,n(e,r),n=function(){}):(o[i]=t,m(c))},a=p.slice(0,Math.abs(p.length-1))||[],f=function(){return g(a,function(e,n){return e&&o.hasOwnProperty(n)},!0)&&!o.hasOwnProperty(i)},f()?p[p.length-1](l,o):(r=function(){return f()?(s(r),p[p.length-1](l,o)):void 0},t(r))})):n(null)},r=this,r.intermine=e=r.intermine||{},r.window===void 0){if("undefined"==typeof global)throw"what kind of environment is this?";r.window=global}e.load||(e.loader=function(e,n,t){var i,r,s;switch(null==n&&(n="js"),r=function(e,n){return e.onload=n,e.onreadystatechange=function(){var t;return t=e.readyState,"complete"===t||"loaded"===t?(e.onreadystatechange=null,m(n)):void 0}},n){case"js":return i=document.createElement("script"),i.src=e,i.type="text/javascript",r(i,t),document.getElementsByTagName("head")[0].appendChild(i);case"css":return s=document.createElement("link"),s.rel="stylesheet",s.type="text/css",s.href=e,document.getElementsByTagName("head")[0].appendChild(s),t(null);default:return t("Unrecognized type `"+n+"`")}},t={},n=function(n,i,d){var c,g,f,a,p,l,h,w,j,y,v,b,k;h=function(e){var n,t,i,s,o;for(n=r.window,o=e.split("."),i=0,s=o.length;s>i;i++){if(t=o[i],null==n[t])return!1;n=n[t]}return!0},a=!1,f=function(e){return a=!0,d(e)},l={},y=function(r,s){var o,d,u,c,g,p;if(!a){if(u=s.path,c=s.test,d=s.depends,!u)return f("Library `path` not provided for "+r);if(c&&"function"==typeof c&&c()||h(r))return l[r]=function(e){return e(null)};if(t[r])return l[r]=function(e){var n;return(n=function(){return t[r]?e(null):m(n)})()};if(t[r]=!0,l[r]=function(n){return e.loader(u,i,function(){return delete t[r],n(null)})},d&&d instanceof Array){for(g=0,p=d.length;p>g;g++)if(o=d[g],"string"!=typeof o||null==n[o])return delete t[r],f("Unrecognized dependency `"+o+"`");return l[r]=d.concat(l[r])}}};for(p in n)j=n[p],y(p,j);if(!a){g=[];for(p in l)j=l[p],j instanceof Array&&(w={},(c=function(e){var n,t,i,r,s;if("string"==typeof e)if(null!=w[e]){if(!o(g,e))return g.push(e)}else if(w[e]=!0,(t=l[e])instanceof Array){for(s=[],n=i=0,r=t.length-1;r>=0?r>i:i>r;n=r>=0?++i:--i)s.push(c(t[n]));return s}})(p));if(g.length){for(k=u(l),v=0,b=k.length;b>v;v++)p=k[v],delete t[p];return f("Circular dependencies detected for `"+g+"`")}return s(l,function(e){return e?d(e):d(null)})}},e.load=function(){var e,t,r,s,o,d,c,g,m,a,p,l,h,w,j;if(c=arguments[0],e=arguments.length>=2?f.call(arguments,1):[],t=1===arguments.length?c:e.pop(),h="latest","string"==typeof e[0]&&(h=e[0]),"function"!=typeof t&&(t=function(){}),"string"==typeof c)return i[c]?(a=i[c][h])?(m={},m["intermine."+c]={path:a},n(m,"js",t)):t("Unknown `"+c+"` version "+h):t("Unknown library `"+c+"`");if(c instanceof Array){m={js:{},css:{}};for(o in c){if(j=c[o],g=j.name,a=j.path,l=j.type,w=j.wait,!a&&!l)return t("Library `path` or `type` not provided");if("css"!==l&&"js"!==l)return t("Library type `"+l+"` not recognized");g||(g=a.split("/").pop()),c[o].name=g,m[l][g]={path:a},w&&parseInt(o)&&(m[l][g].depends=[c[o-1].name])}c=m}return"object"==typeof c?(o=u(c).length,r=!1,s=function(e){return r?void 0:e?(r=!0,t(e)):o--&&!o?t(null):void 0},function(){var e;e=[];for(d in c)p=c[d],e.push(n(p,d,s));return e}()):t("Unrecognized input")})}).call(this);